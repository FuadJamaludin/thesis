MIME-Version: 1.0
Date: Mon, 30 May 2022 09:44:12 +0200
From: "lisaze...@gmail.com" <lisazeyen.lz@gmail.com>
Subject: Re: [pypsa] Capital cost issue
Thread-Topic: [pypsa] Capital cost issue
In-Reply-To: <cace0144-2dd6-4e39-b962-f248432f6192n@googlegroups.com>
Message-ID: <1c3af7e5-f6db-42ec-8fb9-627066f11ed2n@googlegroups.com>
References: <11e3b925-b53f-40de-89a6-0450f30b359dn@googlegroups.com>
 <04585c2c-46b3-f8ef-3452-c924199a4024@tu-berlin.de>
 <6fcd6871-2a66-4f79-8ee2-22f1034f77d9n@googlegroups.com>
 <3f2e204a-5df4-4caf-9afe-e86c01959f7fn@googlegroups.com>
 <fe1b4674-0ad2-4f25-9021-e4bb51ea40b4n@googlegroups.com>
 <4c368a24-898d-4796-9a60-492f9ea4dfean@googlegroups.com>
 <5ae5c9e3-4f1a-4c13-8f26-c6670c6d8da1n@googlegroups.com>
 <3b8e4e2a-f5f8-45a9-b42b-7d8ea08ba033n@googlegroups.com>
 <4b2680d9-2f2e-4407-99cd-26a80d892532n@googlegroups.com>
 <cace0144-2dd6-4e39-b962-f248432f6192n@googlegroups.com>
To: pypsa <pypsa@googlegroups.com>
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html; charset="utf-8"

Hi Quirin,<div>the capital costs are added as annualised capital costs for =
one single year (Nyears=3D1). If you use the multi period optimisation you =
can add a weighting for the time difference between the investment periods =
via the investment_period_weightings (e.g. investment periods 2025, 2030 wi=
th investment period weightings 5). The n.investment_periods[&quot;years&qu=
ot;] waits your dispatch or also you CO2 constraints, the n.investment_peri=
ods[&quot;objective&quot;] the costs (here you can add for example an addit=
ional factor for the social discount rate).<br>Best,</div><div>Lisa<br><br>=
</div><div class=3D"gmail_quote"><div dir=3D"auto" class=3D"gmail_attr">qui=
rin...@fau.de schrieb am Mittwoch, 25. Mai 2022 um 18:00:33 UTC&#43;2:<br><=
/div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 0.8ex; border-=
left:1px solid rgb(204,204,204); padding-left:1ex"><br><div>Hi Lisa,</div><=
div><br></div><div>I am doing a multi-investment optimization and can't fig=
ure out how the capital costs are handled. When I add them like in the add_=
electricity script, should I use Nyears =3D sum of all investment-periods d=
urations, or just the durations themselfs or per year (as the investment_pe=
riod_weightings contribute to the objective function..)?</div><div><br></di=
v><div>Best Quirin<br></div><div><br></div><div class=3D"gmail_quote"><div =
dir=3D"auto" class=3D"gmail_attr">On Tuesday, 24 May 2022 at 08:43:03 UTC&#=
43;2 <a href=3D"" rel=3D"nofollow">lisaze...@gmail.com</a> wrote:<br></div>=
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 0.8ex; border-left:=
1px solid rgb(204,204,204); padding-left:1ex">Hi Fuad,<div><br></div><div>t=
he Fixed Operational and Maintenance cost (FOM) are given in our input data=
 as a percentage of the investment costs. E.g. for onshore wind turbines in=
vestment costs in 2030 are 1.04*10=E2=81=B6 EUR/MW and FOM are 12.6*10=C2=
=B3 EUR/MW/year so the FOM in our format as a percentage are 12.6*10=C2=B3/=
1.04*10=E2=81=B6 =3D&nbsp;&nbsp;0.0122 per unit / year =3D 1.22%/year.</div=
><div><br></div><div>We do have all the technology data already for differe=
nt years calculated you can find it in this repository here</div><div><a hr=
ef=3D"https://github.com/PyPSA/technology-data/tree/master/outputs" rel=3D"=
nofollow">https://github.com/PyPSA/technology-data/tree/master/outputs</a><=
/div><div><br></div><div>Also if you want to check all the conversions we a=
re doing getting from the raw data to our input files check the script in t=
he same repository here</div><div><a href=3D"https://github.com/PyPSA/techn=
ology-data/blob/master/scripts/compile_cost_assumptions.py" rel=3D"nofollow=
">https://github.com/PyPSA/technology-data/blob/master/scripts/compile_cost=
_assumptions.py</a></div><div><br></div><div>Best wishes,</div><div>Lisa<br=
><br></div><div class=3D"gmail_quote"><div dir=3D"auto" class=3D"gmail_attr=
"><a rel=3D"nofollow">afua...@gmail.com</a> schrieb am Montag, 23. Mai 2022=
 um 23:38:22 UTC&#43;2:<br></div><blockquote class=3D"gmail_quote" style=3D=
"margin:0 0 0 0.8ex; border-left:1px solid rgb(204,204,204); padding-left:1=
ex">Dear all,<div><br></div><div>I am trying to calculate techno-economic p=
arameters for different electricity generation technologies, for year 2030,=
 2040 and 2050.&nbsp;</div><div><br></div><div>Currently I am referring to =
the formula mentioned by Lisa which is used in the pypsa-eur add_electricit=
y script. Based on the formula, for costs[&quot;FOM&quot;], and also, refer=
ring to the pypsa-eur costs.csv file, for example, for onwind technology, w=
ith the FOM value of&nbsp;2.450549%/year, may I know how was the value obta=
ined? Especially to get it in terms of percentage %/year. I have tried to c=
alculate based on below examples/resources but still couldn't get it. Or ma=
ybe I am referring to the wrong raw data sources?&nbsp;</div><div><br></div=
><div>1) NPV example -&nbsp;<a href=3D"https://nworbmot.org/courses/esm-202=
0/lectures/notebooks/NPV_examples.html" rel=3D"nofollow">https://nworbmot.o=
rg/courses/esm-2020/lectures/notebooks/NPV_examples.html&nbsp;</a></div><di=
v>2) Numbers from the raw data sources of DEA <a href=3D"https://ens.dk/en/=
our-services/projections-and-models/technology-data/technology-data-generat=
ion-electricity-and" rel=3D"nofollow">https://ens.dk</a> website, screensho=
t of the table as below (highlighted in YELLOW colour), and its original ex=
cel file attached in this message (need to go to the &quot;20 Onshore turbi=
nes&quot; sheet of the excel file)<br><br></div><div><img alt=3D"1.jpg" wid=
th=3D"889px" height=3D"742px" src=3D"https://groups.google.com/group/pypsa/=
attach/253ad723835c6/1.jpg?part=3D0.1&amp;view=3D1"><br></div><div><br></di=
v><div>Once I fully understand how the numbers were obtained for year 2030 =
as in the costs.csv file, then I can proceed to calculate for 2040 and 2050=
. Really appreciate any help and many thanks in advance!</div><div><br></di=
v><div>Regards,</div><div>Fuad</div><div class=3D"gmail_quote"><div dir=3D"=
auto" class=3D"gmail_attr">On Thursday, April 14, 2022 at 12:27:03 PM UTC&#=
43;2 <a rel=3D"nofollow">andreas...@gmail.com</a> wrote:<br></div><blockquo=
te class=3D"gmail_quote" style=3D"margin:0 0 0 0.8ex; border-left:1px solid=
 rgb(204,204,204); padding-left:1ex">Hi Lisa,&nbsp;<div><br></div><div>than=
ks again. Reading that, I assume changing nyears manually to (1 / the lifet=
ime of a component) would lead to reasonable consideration of the capex if =
I run the simulation only for 1 year.&nbsp;</div><div><br></div><div>Thank =
you so much.<br></div><div><br></div><div>Br,</div><div>Andreas<br><br></di=
v><div class=3D"gmail_quote"><div dir=3D"auto" class=3D"gmail_attr"><a rel=
=3D"nofollow">lisaze...@gmail.com</a> schrieb am Donnerstag, 14. April 2022=
 um 12:15:07 UTC&#43;2:<br></div><blockquote class=3D"gmail_quote" style=3D=
"margin:0 0 0 0.8ex; border-left:1px solid rgb(204,204,204); padding-left:1=
ex">Hi Andreas,<div><br></div><div>the &quot;NYears&quot; in the example co=
de stands for the Number of Years of your optimisation. So in your example =
it should be equal to 1. If you run a simulation with every 4th snapshot or=
 a resampling to 4h you do have a network with 2190 snapshots and&nbsp; n.s=
napshot_weightings.objective are probably equal to 4, so Nyears =3D n.snaps=
hot_weightings.objective.sum() / 8760 should be 1 as well.</div><div><br></=
div><div>Best,</div><div>Lisa<br><div><br></div><br></div><div class=3D"gma=
il_quote"><div dir=3D"auto" class=3D"gmail_attr"><a rel=3D"nofollow">andrea=
s...@gmail.com</a> schrieb am Donnerstag, 14. April 2022 um 11:34:19 UTC&#4=
3;2:<br></div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 0.8ex=
; border-left:1px solid rgb(204,204,204); padding-left:1ex">Hi Lisa,&nbsp;<=
div><br></div><div>thanks for the swift answer. After investigating the cod=
e, I get the idea. Definitely a very helpful reply!</div><div>I don't reall=
y get the point about the &quot;Nyears&quot;, though. Staying in the exampl=
e above, could you explain to me what the value for Nyears would be? I am h=
aving trouble understanding what exactly is the calculation behind this wit=
h respect to snapshot.weightings and so on.&nbsp;</div><div><br></div><div>=
Nyears =3D n.snapshot_weightings.objective.sum() / 8760<br></div><div><br><=
/div><div>Could you give me an idea of what would be the value for Nyears i=
n the example presented above?</div><div>I am running 1 year of simulation =
with 4h-snapshots, in case that's relevant. Maybe you could reiterate how t=
he Nyear would change with changing the <b>X</b>h-snapshots and <b>Y</b> ye=
ars of&nbsp; simulation. That would be incredibly helpful.</div><div><br></=
div><div>Thank you for your help, best regards,</div><div>Andreas</div><div=
><br></div><div class=3D"gmail_quote"><div dir=3D"auto" class=3D"gmail_attr=
"><a rel=3D"nofollow">lisaze...@gmail.com</a> schrieb am Donnerstag, 14. Ap=
ril 2022 um 08:04:30 UTC&#43;2:<br></div><blockquote class=3D"gmail_quote" =
style=3D"margin:0 0 0 0.8ex; border-left:1px solid rgb(204,204,204); paddin=
g-left:1ex">Hi Andreas,<div><br></div><div>If you run the optimisation for =
one single year it makes sense to annualise the capital costs (this does no=
t happen internally in pypsa). In your example the capital cost should be 5=
 MUSD. You can find an example on how we normally annualise the capital cos=
ts here</div><div><br></div><div><a href=3D"https://github.com/PyPSA/pypsa-=
eur/blob/3acc4a22360cbf6c3f22c63880f55c465ee8244b/scripts/add_electricity.p=
y#L141-L143" rel=3D"nofollow">https://github.com/PyPSA/pypsa-eur/blob/3acc4=
a22360cbf6c3f22c63880f55c465ee8244b/scripts/add_electricity.py#L141-L143</a=
><br><br></div><div>Best wishes,</div><div>Lisa</div><div class=3D"gmail_qu=
ote"><div dir=3D"auto" class=3D"gmail_attr"><a rel=3D"nofollow">andreas...@=
gmail.com</a> schrieb am Mittwoch, 13. April 2022 um 16:32:38 UTC&#43;2:<br=
></div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 0.8ex; borde=
r-left:1px solid rgb(204,204,204); padding-left:1ex">Dear all,&nbsp;<div><b=
r></div><div>I know I am a bit late to this thread, but this one seems to f=
it best with regards to my query.</div><div>Capital costs are something tha=
t is paid once for constructing an asset / component and will not be paid a=
gain. It is a fixed cost position. Now, if I run a simulation for 1 year (e=
.g. snapshots: 2013-01-01 to 2014-01-01), will the capital costs of the bui=
lt components somehow be divided by a factor to take into account that I on=
ly simulate 1 year instead of the whole period this asset would be active?&=
nbsp;</div><div><br></div><div>Let me give you an example in case I was not=
 clear enough:</div><div>The model (endogenously) adds additional capacity =
of 100 MW of PV power. The capital costs for that are 100 MUSD. Since I onl=
y simulate one year and a PV plant has an assumed lifetime of 20 years, wou=
ld the model add capital costs of 100 MUSD, or 5 MUSD?&nbsp;</div><div><br>=
</div><div>I guess it would be 100 MUSD, but I would like to clarify this b=
efore going ahead with my project as this would be a crucial thing to consi=
der for me.</div><div><br></div><div>Thank you all for your help!</div><div=
><br></div><div>Best regards,</div><div>Andreas</div><div><br></div><div cl=
ass=3D"gmail_quote"><div dir=3D"auto" class=3D"gmail_attr"><a rel=3D"nofoll=
ow">t.b...@tu-berlin.de</a> schrieb am Sonntag, 6. Juni 2021 um 15:22:34 UT=
C&#43;2:<br></div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 0=
.8ex; border-left:1px solid rgb(204,204,204); padding-left:1ex">Hi Alice,
<br>
<br>The investment costs are annualised using a formula for the annuity tha=
t
<br>takes account of the discount rate, see e.g.
<br>
<br><a href=3D"https://nworbmot.org/courses/esm-2020/lectures/esm-lecture-1=
1.pdf" rel=3D"nofollow">https://nworbmot.org/courses/esm-2020/lectures/esm-=
lecture-11.pdf</a>
<br>
<br>To this are added fixed O&amp;M costs to get the fixed annual payment t=
hat
<br>enters PyPSA as the &quot;capital_cost&quot;.
<br>
<br>Best,
<br>
<br>Tom
<br>
<br>On 06/06/2021 14:00, Alice Di Bella wrote:
<br>&gt; Hi everybody,
<br>&gt;=20
<br>&gt; I'm Alice Di Bella, I am currently writing my thesis for my Master
<br>&gt; degree in Energy Engineering at Politecnico di Milano using Pypsa-=
eur. I
<br>&gt; am currently having troubles understanding how the cost variables
<br>&gt; (capital_cost and marginal_cost) work.
<br>&gt;=20
<br>&gt; I'll be more precise: I ran a simulaion with 37 nodes in europe,
<br>&gt; timestep of 24 hours, using config.default.yaml and I don't unders=
tand
<br>&gt; how the capital cost is calculated.
<br>&gt; For example the capital cost for onwind, taken from
<br>&gt; network.generators.capital_cost is 109.3 =E2=82=AC/kW but in the d=
ata costs.csv
<br>&gt; the value was 1040 =E2=82=AC/kW. I know that I should consider a c=
ertain
<br>&gt; discount rate, but the difference is of an entire order of magnitu=
de, so
<br>&gt; I think it's a bit weird. Can anybody help me with this please?
<br>&gt; It would be important to go on with my work :)
<br>&gt;=20
<br>&gt; Thank you in advance ,
<br>&gt; Alice Di Bella
<br>&gt;=20
<br>&gt; --=20
<br>&gt; You received this message because you are subscribed to the Google
<br>&gt; Groups &quot;pypsa&quot; group.
<br>&gt; To unsubscribe from this group and stop receiving emails from it, =
send
<br>&gt; an email to <a rel=3D"nofollow">pypsa&#43;un...@googlegroups.com</=
a>
<br>&gt; &lt;mailto:<a rel=3D"nofollow">pypsa&#43;un...@googlegroups.com</a=
>&gt;.
<br>&gt; To view this discussion on the web, visit
<br>&gt; <a href=3D"https://groups.google.com/d/msgid/pypsa/11e3b925-b53f-4=
0de-89a6-0450f30b359dn%40googlegroups.com" rel=3D"nofollow">https://groups.=
google.com/d/msgid/pypsa/11e3b925-b53f-40de-89a6-0450f30b359dn%40googlegrou=
ps.com</a>
<br>&gt; &lt;<a href=3D"https://groups.google.com/d/msgid/pypsa/11e3b925-b5=
3f-40de-89a6-0450f30b359dn%40googlegroups.com?utm_medium=3Demail&amp;utm_so=
urce=3Dfooter" rel=3D"nofollow">https://groups.google.com/d/msgid/pypsa/11e=
3b925-b53f-40de-89a6-0450f30b359dn%40googlegroups.com?utm_medium=3Demail&am=
p;utm_source=3Dfooter</a>&gt;.
<br>
<br>--=20
<br>Tom Brown (he/him)
<br>Professor of Digital Transformation in Energy Systems
<br>Institute of Energy Technology
<br>Technische Universit=C3=A4t Berlin
<br>
<br>Group website: <a href=3D"https://www.ensys.tu-berlin.de/" rel=3D"nofol=
low">https://www.ensys.tu-berlin.de/</a>
<br>Personal website: <a href=3D"https://nworbmot.org/" rel=3D"nofollow">ht=
tps://nworbmot.org/</a>
<br>
<br>Visitor Address:
<br>Einsteinufer 25 (TA 8)
<br>10587 Berlin
<br></blockquote></div></blockquote></div></blockquote></div></blockquote><=
/div></blockquote></div></blockquote></div></blockquote></div></blockquote>=
</div></blockquote></div>

<p></p>

-- <br>
You received this message because you are subscribed to the Google Groups &=
quot;pypsa&quot; group.<br>
To unsubscribe from this group and stop receiving emails from it, send an e=
mail to <a href=3D"mailto:pypsa&#43;unsubscribe@googlegroups.com">pypsa&#43=
;unsubscribe@googlegroups.com</a>.<br>
To view this discussion on the web, visit <a href=3D"https://groups.google.=
com/d/msgid/pypsa/1c3af7e5-f6db-42ec-8fb9-627066f11ed2n%40googlegroups.com?=
utm_medium=3Demail&amp;utm_source=3Dfooter">https://groups.google.com/d/msg=
id/pypsa/1c3af7e5-f6db-42ec-8fb9-627066f11ed2n%40googlegroups.com</a>.<br>
